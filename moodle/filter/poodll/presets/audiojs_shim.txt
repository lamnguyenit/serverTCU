{"name":"Audio JS (shim)","key":"audiojs_shim","version":"1.0.4","instructions":"","showatto":"0","showplayers":"1","requirecss":"","requirejs":"/filter/poodll/3rdparty/audiojs/audiojs/audio.min.js","shim":"audiojs","defaults":"","amd":"1","body":"<audio id=\"@@AUTOID@@\" src=\"@@VIDEOURL@@\"></audio>\n\n<a id=\"@@AUTOID@@_download_button\" class=\"@@CANDOWNLOAD@@\"  href=\"@@VIDEOURL@@\" download>Download</a>","bodyend":"","script":"var theaudio =$('#' + @@AUTOID@@);\nif(theaudio.length>0){\n   var ajplayer =audiojs.create(theaudio.get(0));\n}\n\n//code to auto refresh if this looks like a placeholder file\n var player = theaudio;\nif(typeof player == 'undefined'){return;}\nif(typeof player[0] == 'undefined'){return;}\nvar refreshfunction =function(){\n  var mr = media_refresher.clone();\n   mr.init(@@FILENAME@@,\n@@AUDIOPLACEHOLDERDURATION@@,\nplayer[0].duration,\nfunction(){\n  ajplayer.load(player[0].currentSrc + '&reload=true');\n/*\n  player.attr('src', player[0].currentSrc + '&reload=true');\n  player[0].pause();\n  player[0].load();\n*/\n });\n};\nif(player[0].readyState==4){\n  refreshfunction();\n}else{\n  player.on('loadedmetadata',refreshfunction);\n}","style":"","dataset":"","datasetvars":"","alternate":"","alternateend":""}
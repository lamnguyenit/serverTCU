{"name":"Audio JS Blob","key":"audiojsblob","version":"1.0.0","instructions":"This is a version of audiojs which contains a workaround for html5 audio on mobile safari under https","showatto":"0","showplayers":"1","requirecss":"","requirejs":"/filter/poodll/3rdparty/audiojs/audiojs/audio.min.js","shim":"","defaults":"","amd":"0","body":"<audio id=\"@@AUTOID@@\" src=\"@@VIDEOURL@@\"></audio>","bodyend":"","script":"var theaudio = document.getElementById(@@AUTOID@@);\nif(theaudio){audiojs.create(theaudio);}\n\nvar is_https = M.cfg.wwwroot.indexOf('https:')==0;\nvar is_ios = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\nif(is_https && is_ios){\n var xhr = new XMLHttpRequest();\n xhr.onreadystatechange = function(){\n    if (this.readyState == 4 && this.status == 200){\n        var elem = document.getElementById(@@AUTOID@@);\n        var url = window.URL || window.webkitURL;\n        elem.src = url.createObjectURL(this.response);\n    }\n }\n xhr.open('GET', @@VIDEOURL@@);\n xhr.responseType = 'blob';\n xhr.send();  \n}","style":"","dataset":"","datasetvars":"","alternate":"","alternateend":""}
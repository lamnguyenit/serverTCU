{"name":"Mediaelement Audio Blob","key":"mediaelementaudioblob","version":"1.0.1","instructions":"This is a shimmed version of mediaelementjs for audio with support for ios blobs on https. You would only use this if your version of Moodle doesn't allow playing audio over https on iOS.","showatto":"0","showplayers":"1","requirecss":"/filter/poodll/3rdparty/mediaelement-2.22.0/build/mediaelementplayer.min.css","requirejs":"/filter/poodll/3rdparty/mediaelement-2.22.0/build/mediaelement-and-player.js","shim":"mejs","defaults":"WIDTH=400,HEIGHT=30","amd":"1","body":"<audio id=\"@@AUTOID@@\" src=\"@@VIDEOURL@@\" width=\"@@WIDTH@@\" height=\"@@HEIGHT@@\"></audio>\n","bodyend":"","script":"  var player = new mejs.MediaElementPlayer(\"#\" + \"@@AUTOID@@\");\n  player.pause();\n\nvar is_https = M.cfg.wwwroot.indexOf('https:')==0;\nvar is_ios = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\nif(is_https && is_ios){\n var xhr = new XMLHttpRequest();\n xhr.onreadystatechange = function(){\n    if (this.readyState == 4 && this.status == 200){\n        var elem = document.getElementById(@@AUTOID@@);\n        var url = window.URL || window.webkitURL;\n        elem.src = url.createObjectURL(this.response);\n    }\n }\n xhr.open('GET', @@VIDEOURL@@);\n xhr.responseType = 'blob';\n xhr.send();  \n}","style":"","dataset":"","datasetvars":"","alternate":"<audio id=\"@@AUTOID@@\" controls=\"controls\">\n  <source src=\"@@VIDEOURL@@\" type=\"audio/mpeg\">\n</audio>","alternateend":""}
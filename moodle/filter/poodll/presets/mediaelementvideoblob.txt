{"name":"Mediaelement Video Blob","key":"mediaelementvideoblob","version":"1.0.1","instructions":"This is a shimmed version of mediaelementjs for video that supports video on iOS under https. You would only use this if your version of Moodle doesn't support laying video over https on iOS.","showatto":"0","showplayers":"1","requirecss":"/filter/poodll/3rdparty/mediaelement-2.22.0/build/mediaelementplayer.min.css","requirejs":"/filter/poodll/3rdparty/mediaelement-2.22.0/build/mediaelement-and-player.js","shim":"mejs","defaults":"WIDTH=640,HEIGHT=480","amd":"1","body":"<video id=\"@@AUTOID@@\" src=\"@@VIDEOURL@@\" width=\"@@WIDTH@@\" height=\"@@HEIGHT@@\"></video>","bodyend":"","script":"var player = new mejs.MediaElementPlayer(\"#\" + \"@@AUTOID@@\");\nplayer.pause();\n\nvar is_https = M.cfg.wwwroot.indexOf('https:')==0;\nvar is_ios = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\nif(is_https && is_ios){\n var xhr = new XMLHttpRequest();\n xhr.onreadystatechange = function(){\n    if (this.readyState == 4 && this.status == 200){\n        var elem = document.getElementById(@@AUTOID@@);\n        var url = window.URL || window.webkitURL;\n        elem.src = url.createObjectURL(this.response);\n    }\n }\n xhr.open('GET', @@VIDEOURL@@);\n xhr.responseType = 'blob';\n xhr.send();  \n}","style":"","dataset":"","datasetvars":"","alternate":"<video id=\"@@AUTOID@@\"  style=\"background-color: #CCC;\" controls preload=\"auto\" width=\"320\" height=\"240\" >\n<source src=\"@@VIDEOURL@@\" type=\"@@AUTOMIME@@\" />\n</video>","alternateend":""}